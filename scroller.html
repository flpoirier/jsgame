<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Runner Game Test</title>
    <style>
      * { padding: 0; margin: 0; }
      canvas { background: #30dcff; display: block; margin: 0 auto; }
    </style>
  </head>
  <body>
    <canvas id="myCanvas" width="900" height="600"></canvas>

    <script>
      var canvas = document.getElementById("myCanvas");
      var ctx = canvas.getContext("2d");
      var tileSize = 50;
      var leftTile = 0;
      var leftPressed = false;
      var rightPressed = false;
      var map = [
        [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
        [2,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
        [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
        [2,0,0,0,0,0,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,2],
        [2,0,0,0,0,0,0,0,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,2],
        [2,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,0,0,0,0,0,0,0,2],
        [2,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,2],
        [2,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
        [2,0,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,2],
        [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,2],
        [2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
        [2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2]
      ]; // this is 24 x 12

      function draw() {
        var rowNum = -1;
        if (leftPressed) {
          leftTile -= 1;
        } else if (rightPressed) {
          leftTile += 1;
        }
        map.forEach((row) => {
          rowNum += 1;
          var tileNum = -1;
          row.forEach((tile) => {
            tileNum += 1;
            if (tile === 0) {
              ctx.fillStyle = "#30dcff";
            } else if (tile === 1){
              ctx.fillStyle = "green";
            } else if (tile === 2){
              ctx.fillStyle = "black";
            } else if (tile === 3){
              ctx.fillStyle = "brown";
            }
            if (tileNum >= leftTile) {
              ctx.fillRect((tileNum*tileSize - leftTile*tileSize), rowNum * tileSize, tileSize, tileSize);
            }
          })
        })
      }

      function keyDownHandler(e) {
        if(e.keyCode == 39) {
          rightPressed = true;
        }
        else if(e.keyCode == 37) {
          leftPressed = true;
        }
      }

      function keyUpHandler(e) {
        if(e.keyCode == 39) {
          rightPressed = false;
        }
        else if(e.keyCode == 37) {
          leftPressed = false;
        }
      }

      document.addEventListener("keydown", keyDownHandler, false);
      document.addEventListener("keyup", keyUpHandler, false);
      setInterval(draw, 50);
    </script>
  </body>
</html>
